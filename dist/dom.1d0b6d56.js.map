{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","insertNode","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","array","nodeFirstChild","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","children","siblings","Array","from","filter","otherNode","next","nodeNextSibling","nodeType","previous","nodePreviousSibling","previousSibling","each","nodeList","index","call","list","i"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"../src","sourcesContent":["window.dom = {\n    create(string) {\n      const container = document.createElement(\"template\")\n      container.innerHTML = string.trim() // 删除字符串头尾可能存在的空格\n      return container.content.firstChild\n    },\n    \n    after(node, insertNode) {\n      node.parentNode.insertBefore(insertNode, node.nextSibling)\n    },\n    before(node, insertNode) {\n      node.parentNode.insertBefore(insertNode, node)\n    },\n    append(parent, node) {\n      parent.appendChild(node)\n    },\n    wrap(node, parent) {\n      dom.before(node, parent) // 让parent与node处于同一层树节点中\n      dom.append(parent. node)\n    },\n    \n    remove(node) {\n      node.parentNode.removeChild(node)\n      return node\n    },\n    empty(node) {\n      const array = []\n      let nodeFirstChild = node.firstChild\n      while(nodeFirstChild) {\n        array.push(dom.remove(nodeFirstChild))\n        nodeFirstChild = node.firstChild\n      }\n      return array\n    },\n    \n    attr(node, name, value) {\n      if(arguments.length === 3) {\n        node.setAttribute(name, value)\n      } else if (arguments.length === 2) {\n        return node.getAttribute(name)\n      }\n    },\n    text(node, string) {\n      if(arguments.length === 2) {\n        if('innerText' in node) { // 适配IE\n          node.innerText === string\n        } else {\n          node.textContent = string\n        }\n      } else if (arguments.length === 1) {\n        if('innerText' in node) {\n          return node.innerText\n        } else {\n          return node.textContent\n        }\n      }\n    },\n    html(node, string) {\n      if(arguments.length === 2) {\n        node.innerHTML = string\n      } else if(arguments.length === 1) {\n        return node.innerHTML\n      }\n    },\n    style(node, name, value) {\n      if(arguments.length === 3) { // dom.style(div, 'color', 'red')\n        node.style[name] = value\n      } else if(arguments.length === 2) {\n        if((typeof name) === 'string') { // dom.style(div, 'color')\n          return node.style[name]\n        } else if (name instanceof Object) {\n          const object = name\n          for(let key in object) {\n            node.style[key] = object[key]\n          }\n        }\n      }\n    },\n    \n    class: {\n      add(node, className) {\n        node.classList.add(className)\n      },\n      remove(node, className) {\n        node.classList.remove(className)\n      },\n      has(node, className) {\n        return node.classList.contains(className)\n      }\n    },\n    \n    // fn函数为具名函数，以便于删除\n    on(node, eventName, fn) {\n      node.addEventListener(eventName, fn)\n    },\n    off(node, eventName, fn) {\n      node.removeEventListener(eventName, fn)\n    },\n    \n    find(selector, scope) {\n      return (scope || document).querySelectorAll(selector)\n    },\n    parent(node) {\n      return node.parentNode\n    },\n    children(node) {\n      return node.children\n    },\n    siblings(node) {\n      let children = node.parentNode.children\n      return Array.from(children).filter(otherNode => otherNode !== node)\n    },\n    next(node) {\n      let nodeNextSibling = node.nextSibling\n      while(nodeNextSibling && nodeNextSibling.nodeType === 3) {\n        nodeNextSibling = nodeNextSibling.nextSibling\n      }\n      return nodeNextSibling\n    },\n    previous(node) {\n      let nodePreviousSibling = node.previousSibling\n      while(nodePreviousSibling && nodePreviousSibling.nodeType === 3) {\n        nodePreviousSibling = nodePreviousSibling.previousSibling\n      }\n      return nodePreviousSibling\n    },\n    \n    each(nodeList, fn) {\n      for(let index = 0; index < nodeList.length; index++) {\n        fn.call(null, nodeList[index])\n      }\n    },\n    index(node) {\n      const list = dom.children(node.parentNode)\n      for(let i = 0; i < list.length; i++) {\n        if(list[i] === node) {\n          return i\n        }\n      }\n    }\n    \n  }"]}